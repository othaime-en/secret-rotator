# Secret Rotator - Docker Environment Variables
# Copy this file to .env and customize for your environment

# === Web Interface ===
WEB_PORT=8080

# === Directories ===
# Local directories that will be mounted into the container
# These will be created automatically if they don't exist

# Data directory (REQUIRED - stores secrets, keys, backups)
DATA_DIR=./data

# Logs directory (REQUIRED - stores application logs)
LOGS_DIR=./logs

# Config directory (OPTIONAL - only needed for custom config)
# If you want to use a custom config.yaml:
# 1. Create ./config/config.yaml
# 2. Uncomment the config volume mount in docker-compose.yml
# CONFIG_DIR=./config

# === Logging ===
LOG_LEVEL=INFO
LOG_STRUCTURED=true

# === Resource Limits ===
# CPU limit (e.g., 1.0 = 1 CPU core)
CPU_LIMIT=1.0
# Memory limit (e.g., 512M, 1G)
MEMORY_LIMIT=512M

# === Timezone ===
TZ=UTC

# === Development Settings (for docker-compose.dev.yml) ===
# Uncomment and set these for development mode
# DEBUG=true
# PYTHONDONTWRITEBYTECODE=1

# === Network ===
# If you need to customize the network subnet
# NETWORK_SUBNET=172.20.0.0/16

# === Notes ===
# ARCHITECTURE CHANGES (v1.2.0):
# - Master key now stored in /app/data/.master.key (writable volume)
# - Config directory is optional and read-only when mounted
# - All runtime data (secrets, backups, keys) in data volume
#
# FIRST RUN:
# 1. Create data and logs directories: mkdir -p data logs
# 2. Copy this file: cp .env.example .env
# 3. Start the container: docker-compose up -d
# 4. Backup the master key: docker cp secret-rotator:/app/data/.master.key ./backup/
#
# CUSTOM CONFIG (Optional):
# 1. Create config directory: mkdir -p config
# 2. Copy example: cp config/config.example.yaml config/config.yaml
# 3. Edit config/config.yaml with your settings
# 4. Uncomment config volume mount in docker-compose.yml
# 5. Restart: docker-compose restart
#
# SECURITY:
# - Never commit .env to version control
# - Master key is auto-generated on first run
# - Always backup the master key after first run
# - Store backups in secure external location (S3, Azure, etc.)